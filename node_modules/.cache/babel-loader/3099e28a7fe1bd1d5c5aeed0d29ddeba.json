{"remainingRequest":"/Users/dwhite/Documents/Code/shockblox-factory/node_modules/babel-loader/lib/index.js!/Users/dwhite/Documents/Code/shockblox-factory/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dwhite/Documents/Code/shockblox-factory/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/dwhite/Documents/Code/shockblox-factory/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dwhite/Documents/Code/shockblox-factory/src/views/Home.vue","mtime":1631769770791},{"path":"/Users/dwhite/Documents/Code/shockblox-factory/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dwhite/Documents/Code/shockblox-factory/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dwhite/Documents/Code/shockblox-factory/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dwhite/Documents/Code/shockblox-factory/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2R3aGl0ZS9Eb2N1bWVudHMvQ29kZS9zaG9ja2Jsb3gtZmFjdG9yeS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvZHdoaXRlL0RvY3VtZW50cy9Db2RlL3Nob2NrYmxveC1mYWN0b3J5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kd2hpdGUvRG9jdW1lbnRzL0NvZGUvc2hvY2tibG94LWZhY3Rvcnkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IHsgRElEIH0gZnJvbSAnZGlkcyc7CmltcG9ydCBUaHJlZUlkUmVzb2x2ZXIgZnJvbSAnQGNlcmFtaWNuZXR3b3JrLzNpZC1kaWQtcmVzb2x2ZXInOwppbXBvcnQgS2V5RGlkUmVzb2x2ZXIgZnJvbSAna2V5LWRpZC1yZXNvbHZlcic7CmltcG9ydCB7IGNyZWF0ZUNlcmFtaWMgfSBmcm9tICdAL2RhcHAvY29uZmlnL2NlcmFtaWMnOwppbXBvcnQgeyBjcmVhdGVJRFggfSBmcm9tICdAL2RhcHAvY29uZmlnL2lkeCc7CmltcG9ydCB7IGdldFByb3ZpZGVyIH0gZnJvbSAnQC9kYXBwL2NvbmZpZy93YWxsZXQnOwp2YXIgY2VyYW1pY1Byb21pc2UgPSBjcmVhdGVDZXJhbWljKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgbWV0aG9kczogewogICAgYXV0aGVudGljYXRlOiBmdW5jdGlvbiBhdXRoZW50aWNhdGUoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRQcm9taXNlJGFsbCwgX3lpZWxkJFByb21pc2UkYWxsMiwgY2VyYW1pYywgcHJvdmlkZXIsIGRpZCwgaWR4OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbY2VyYW1pY1Byb21pc2UsIGdldFByb3ZpZGVyKCldKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJFByb21pc2UkYWxsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF95aWVsZCRQcm9taXNlJGFsbDIgPSBfc2xpY2VkVG9BcnJheShfeWllbGQkUHJvbWlzZSRhbGwsIDIpOwogICAgICAgICAgICAgICAgY2VyYW1pYyA9IF95aWVsZCRQcm9taXNlJGFsbDJbMF07CiAgICAgICAgICAgICAgICBwcm92aWRlciA9IF95aWVsZCRQcm9taXNlJGFsbDJbMV07CiAgICAgICAgICAgICAgICBkaWQgPSBuZXcgRElEKHsKICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLAogICAgICAgICAgICAgICAgICByZXNvbHZlcjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBLZXlEaWRSZXNvbHZlci5nZXRSZXNvbHZlcigpKSwgVGhyZWVJZFJlc29sdmVyLmdldFJlc29sdmVyKGNlcmFtaWMpKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBkaWQuYXV0aGVudGljYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHdpbmRvdy5kaWQgPSBkaWQ7CiAgICAgICAgICAgICAgICBjZXJhbWljLmRpZCA9IGRpZDsKICAgICAgICAgICAgICAgIGlkeCA9IGNyZWF0ZUlEWChjZXJhbWljKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGlkeC5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZXRoQWRkcmVzc1RvRElEOiBmdW5jdGlvbiBldGhBZGRyZXNzVG9ESUQoYWRkcmVzcykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3dpbmRvdyRjZXJhbWljOwoKICAgICAgICB2YXIgY2FpcDEwRG9jOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gKF93aW5kb3ckY2VyYW1pYyA9IHdpbmRvdy5jZXJhbWljKSA9PT0gbnVsbCB8fCBfd2luZG93JGNlcmFtaWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3ckY2VyYW1pYy5jcmVhdGVEb2N1bWVudCgnY2FpcDEwLWxpbmsnLCB7CiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiAnY2FpcDEwLWxpbmsnLAogICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzOiBbYWRkcmVzcy50b0xvd2VyQ2FzZSgpICsgJ0BlaXAxNTU6MSddCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBjYWlwMTBEb2MgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBjYWlwMTBEb2MgPT09IG51bGwgfHwgY2FpcDEwRG9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWlwMTBEb2MuY29udGVudCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNvbm5lY3RXYWxsZXQ6IGZ1bmN0aW9uIGNvbm5lY3RXYWxsZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgaWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hdXRoZW50aWNhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIC8vIENvbW1pdCB0aGUgaWQgdG8gdGhlIHN0b3JlCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpZCk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlckRJRCcsIGlkKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRVc2VyRElEJywgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGlzY29ubmVjdDogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRVc2VyRElEJywgbnVsbCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/dwhite/Documents/Code/shockblox-factory/src/views/Home.vue"],"names":[],"mappings":";;;;;;;AAcA,SAAS,GAAT,QAAoB,MAApB;AACA,OAAO,eAAP,MAA4B,kCAA5B;AACA,OAAO,cAAP,MAA2B,kBAA3B;AAEA,SAAS,aAAT,QAA8B,uBAA9B;AACA,SAAS,SAAT,QAA0B,mBAA1B;AACA,SAAS,WAAT,QAA4B,sBAA5B;AAEA,IAAM,cAAa,GAAI,aAAa,EAApC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,OAAO,EAAE;AACD,IAAA,YADC,0BACc;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACe,OAAO,CAAC,GAAR,CAAY,CAAC,cAAD,EAAiB,WAAW,EAA5B,CAAZ,CADf;;AAAA;AAAA;AAAA;AACZ,gBAAA,OADY;AACH,gBAAA,QADG;AAEb,gBAAA,GAFa,GAEP,IAAI,GAAJ,CAAQ;AAClB,kBAAA,QAAQ,EAAR,QADkB;AAElB,kBAAA,QAAQ,kCAAO,cAAc,CAAC,WAAf,EAAP,GAAwC,eAAe,CAAC,WAAhB,CAA4B,OAA5B,CAAxC;AAFU,iBAAR,CAFO;AAAA;AAAA,uBAMb,GAAG,CAAC,YAAJ,EANa;;AAAA;AAOnB,gBAAA,MAAM,CAAC,GAAP,GAAa,GAAb;AACA,gBAAA,OAAO,CAAC,GAAR,GAAc,GAAd;AACM,gBAAA,GATa,GASP,SAAS,CAAC,OAAD,CATF;AAAA,iDAUZ,GAAG,CAAC,EAVQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWpB,KAZM;AAaD,IAAA,eAbC,2BAae,OAbf,EAawB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACL,MAAM,CAAC,OADF,oDACL,gBAAgB,cAAhB,CAA+B,aAA/B,EAA8C;AACpE,kBAAA,QAAQ,EAAE;AACR,oBAAA,MAAM,EAAE,aADA;AAER,oBAAA,WAAW,EAAE,CAAC,OAAO,CAAC,WAAR,KAAwB,WAAzB;AAFL;AAD0D,iBAA9C,CADK;;AAAA;AACvB,gBAAA,SADuB;AAAA,kDAOtB,SAPsB,aAOtB,SAPsB,uBAOtB,SAAS,CAAE,OAPW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ9B,KArBM;AAsBD,IAAA,aAtBC,2BAsBe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGD,KAAI,CAAC,YAAL,EAHC;;AAAA;AAGZ,gBAAA,EAHY;AAIlB;AACA,gBAAA,OAAO,CAAC,GAAR,CAAY,EAAZ;;AACA,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,YAAnB,EAAiC,EAAjC;;AANkB;AAAA;;AAAA;AAAA;AAAA;;AAQlB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,YAAnB,EAAiC,IAAjC;;AARkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUrB,KAhCM;AAiCP,IAAA,UAjCO,wBAiCM;AACX,WAAK,MAAL,CAAY,MAAZ,CAAmB,YAAnB,EAAiC,IAAjC;AACF;AAnCO;AAFI,CAAf","sourcesContent":["<template>\n  <div class=\"p-5\">\n    <div class=\"container\">\n      <div class=\"text-center\">\n        <h1>Shockblox Factory</h1>\n        <button v-if=\"!$store.state.userDID\" class=\"btn btn-lg btn-primary me-3\" @click=\"connectWallet\">Connect Wallet</button>\n        <button v-else class=\"btn btn-lg btn-secondary me-3\" @click=\"disconnect\">Disconnect</button>\n        <button class=\"btn btn-lg btn-primary\" @click=\"ceramic\">Start Ceramic</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { DID } from 'dids'\nimport ThreeIdResolver from '@ceramicnetwork/3id-did-resolver'\nimport KeyDidResolver from 'key-did-resolver'\n\nimport { createCeramic } from '@/dapp/config/ceramic'\nimport { createIDX } from '@/dapp/config/idx'\nimport { getProvider } from '@/dapp/config/wallet'\n\nconst ceramicPromise = createCeramic()\n\nexport default {\n  name: 'Home',\n  methods: {\n    async authenticate() {\n      const [ceramic, provider] = await Promise.all([ceramicPromise, getProvider()])\n      const did = new DID({\n        provider,\n        resolver: { ...KeyDidResolver.getResolver(), ...ThreeIdResolver.getResolver(ceramic) },\n      })\n      await did.authenticate()\n      window.did = did\n      ceramic.did = did\n      const idx = createIDX(ceramic)\n      return idx.id\n    },\n    async ethAddressToDID(address) {\n      const caip10Doc = await window.ceramic?.createDocument('caip10-link', {\n        metadata: {\n          family: 'caip10-link',\n          controllers: [address.toLowerCase() + '@eip155:1'],\n        },\n      })\n      return caip10Doc?.content\n    },\n    async connectWallet() {\n      // Authenticate\n      try {\n        const id = await this.authenticate()\n        // Commit the id to the store\n        console.log(id)\n        this.$store.commit('setUserDID', id)\n      }catch(e) {\n        this.$store.commit('setUserDID', null)\n      }\n    },\n    disconnect() {\n      this.$store.commit('setUserDID', null)\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}